<!doctype html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./assets/styles/main.css" />
    <title>Details form</title>
  </head>
  <body>
    <div class="main">
      <div class="w-full flex flex-col justify-center items-center">
        <div class="app-logo"></div>
        <div class="steps-group step-1">
          <div class="step-item">
            <div class="step-item-number">01</div>
            <div class="step-item-title">מילוי פרטים</div>
          </div>
          <div class="step-item">
            <div class="step-item-number">02</div>
            <div class="step-item-title">בחירת כרטיסים</div>
          </div>
          <div class="step-item">
            <div class="step-item-number">03</div>
            <div class="step-item-title">תשלום</div>
          </div>
          <div class="step-item">
            <div class="step-item-number">04</div>
            <div class="step-item-title">אישור הזמנה</div>
          </div>
        </div>
      </div>
      <div>
        <h2 class="text-6xl">מילוי פרטי קופצים</h2>
        <p class="text-lg mt-3 text-center text-semibold font-assistant">
          יש למלא את פרטי המבוגר / ההורה:
        </p>
      </div>
      <form
        action="/submit-your-endpoint"
        method="POST"
        class="form-card content-container parent-card"
      >
        <div class="form-row">
          <div class="input-group">
            <label for="first-name">שם פרטי הורה</label>
            <input
              type="text"
              id="first-name"
              name="first_name"
              class="keyboard-input"
              required
            />
          </div>
          <div class="input-group">
            <label for="last-name">שם משפחה</label>
            <input
              type="text"
              id="last-name"
              name="last_name"
              class="keyboard-input"
              required
            />
          </div>
          <div class="input-group">
            <label for="id-number">תעודת זהות</label>
            <input
              type="text"
              id="id-number"
              name="id"
              class="keyboard-input"
            />
          </div>
        </div>
        <div class="form-row">
          <div class="input-group">
            <label for="email">אימייל</label>
            <input
              type="email"
              id="email"
              name="email"
              class="keyboard-input"
              required
            />
          </div>
          <div class="input-group">
            <label>עיר</label>

            <div class="input-group">
              <div class="custom-select-box" id="citySelect">
                <div class="select-wrapper">
                  <input
                    type="text"
                    class="custom-select-input keyboard-input"
                    placeholder="בחר עיר"
                    autocomplete="off"
                  />
                  <span class="select-icon">
                    <svg
                      width="18"
                      height="18"
                      viewBox="0 0 18 18"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M2.43359 4.45068C2.58354 4.45068 2.73201 4.48117 2.87012 4.53955C3.00785 4.59779 3.13301 4.68241 3.2373 4.78955L9.09961 10.7886L14.7793 5.11865C14.8849 5.01273 15.0109 4.92914 15.1494 4.87256C15.2882 4.81589 15.437 4.78773 15.5869 4.78955C15.7368 4.7914 15.8851 4.82325 16.0225 4.8833C16.1594 4.94322 16.2828 5.02983 16.3857 5.13818C16.5925 5.35594 16.7067 5.64656 16.7031 5.94678C16.6995 6.24685 16.5789 6.53388 16.3672 6.74658L16.3662 6.74756L9.88379 13.2212L9.88281 13.2202C9.77813 13.3252 9.65467 13.4097 9.51758 13.4663C9.37988 13.5231 9.23196 13.5512 9.08301 13.5503C8.93401 13.5494 8.78644 13.519 8.64941 13.4604C8.51285 13.4021 8.38961 13.317 8.28613 13.2104V13.2114L1.63086 6.39697L1.62891 6.39502C1.42113 6.17983 1.30469 5.89239 1.30469 5.59326C1.30476 5.29421 1.42117 5.00663 1.62891 4.7915L1.62988 4.79053C1.73425 4.68312 1.85914 4.59791 1.99707 4.53955C2.13514 4.48117 2.28369 4.45071 2.43359 4.45068Z"
                        fill="#27A9E1"
                        stroke="#27A9E1"
                      />
                    </svg>
                  </span>
                </div>

                <div class="custom-select-dropdown">
                  <div class="custom-options">
                    <div class="custom-option">תל אביב</div>
                    <div class="custom-option">ירושלים</div>
                    <div class="custom-option">חיפה</div>
                    <div class="custom-option">באר שבע</div>
                    <div class="custom-option">אשדוד</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="input-group error">
            <label for="phone">טלפון</label>
            <input
              type="tel"
              id="phone"
              name="phone"
              class="keyboard-input"
              required
            />
            <p class="text-error">
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12.884 2.52956C12.538 1.87556 11.462 1.87556 11.116 2.52956L2.11603 19.5296C2.03532 19.682 1.99539 19.8527 2.00013 20.0251C2.00488 20.1975 2.05412 20.3657 2.14309 20.5134C2.23205 20.6612 2.35772 20.7834 2.50787 20.8682C2.65803 20.9531 2.82757 20.9976 3.00003 20.9976H21C21.1725 20.9979 21.3421 20.9536 21.4923 20.8689C21.6425 20.7842 21.7682 20.662 21.8572 20.5142C21.9461 20.3665 21.9952 20.1982 21.9998 20.0258C22.0043 19.8534 21.9641 19.6828 21.883 19.5306L12.884 2.52956ZM13 17.9976H11V15.9976H13V17.9976ZM11 13.9976V8.99756H13L13.001 13.9976H11Z"
                  fill="#E00000"
                />
              </svg>

              שגיאה
            </p>
          </div>
        </div>
        <div class="form-row flex-row-reverse items-end">
          <div dir="ltr" class="">
            <p class="details-feeling-desc">
              אישור קבלת דיוור שיווקי (מבטיחים לא להציק 😉)
            </p>
            <p class="details-feeling-desc mt-4">
              כן, שלחו לי הטבות ומבצעים שווים ב-SMS ודוא"ל
            </p>
          </div>
          <div class="input-group">
            <label>תאריך לידה הורה</label>
            <div class="flex gap-20">
              <input dir="rtl" type="tel" class="keyboard-input" />
              <input type="checkbox" id="c1" class="check-input" />
              <label for="c1" class="check-box">
                <svg width="40" height="40" viewBox="0 0 40 40">
                  <rect
                    class="box-bg"
                    x="0.5"
                    y="0.5"
                    width="39"
                    height="39"
                    rx="7.5"
                  />
                  <path
                    class="box-tick"
                    d="M17 24.17L12.83 20L11.41 21.41L17 27L29 15L27.59 13.59L17 24.17Z"
                  />
                </svg>
              </label>
            </div>
          </div>
        </div>
      </form>
      <div dir="ltr" class="form-card content-container child-card mt-20">
        <div class="child-header mb-0">
          <button type="button" class="add-child-btn">
            הוספת ילד
            <span
              ><svg
                width="18"
                height="18"
                viewBox="0 0 18 18"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M8.661 15.3333L8.66016 8.34672L8.661 2"
                  stroke="white"
                  stroke-width="4"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M1.9987 8.66441L8.98531 8.66357L15.332 8.66441"
                  stroke="white"
                  stroke-width="4"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </span>
          </button>
          <h2 class="child-title">ילדים בחזקתי מתחת לגיל 18</h2>
        </div>
        <div class="rows-scroll-wrapper">
          <div class="form-row items-end">
            <div class="delete-col">
              <button type="button" class="delete-btn">
                <svg
                  width="48"
                  height="48"
                  viewBox="0 0 48 48"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect width="48" height="48" rx="24" fill="#F2702F" />
                  <path
                    d="M15.1616 35.3677V16.4203H13.8984V13.894H20.2142V12.6309H27.7932V13.894H34.109V16.4203H32.8458V35.3677H15.1616ZM17.6879 32.8414H30.3195V16.4203H17.6879V32.8414ZM20.2142 30.3151H22.7405V18.9466H20.2142V30.3151ZM25.2669 30.3151H27.7932V18.9466H25.2669V30.3151Z"
                    fill="white"
                  />
                </svg>
              </button>
            </div>

            <div class="input-group">
              <label class="text-nowrap"
                >תאריך לידה
                <span class="sub-label">(הפעילות מעל גיל 3)</span></label
              >
              <input dir="rtl" type="text" class="keyboard-input" />
            </div>

            <div class="input-group">
              <label>שם משפחה</label>
              <input dir="rtl" type="text" class="keyboard-input" />
            </div>

            <div class="input-group">
              <label>שם פרטי</label>
              <input dir="rtl" type="text" class="keyboard-input" />
            </div>
          </div>
          <div class="form-row items-end mt-32">
            <div class="delete-col">
              <button type="button" class="delete-btn">
                <svg
                  width="48"
                  height="48"
                  viewBox="0 0 48 48"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect width="48" height="48" rx="24" fill="#F2702F" />
                  <path
                    d="M15.1616 35.3677V16.4203H13.8984V13.894H20.2142V12.6309H27.7932V13.894H34.109V16.4203H32.8458V35.3677H15.1616ZM17.6879 32.8414H30.3195V16.4203H17.6879V32.8414ZM20.2142 30.3151H22.7405V18.9466H20.2142V30.3151ZM25.2669 30.3151H27.7932V18.9466H25.2669V30.3151Z"
                    fill="white"
                  />
                </svg>
              </button>
            </div>

            <div class="input-group">
              <label class="text-nowrap"
                >תאריך לידה
                <span class="sub-label">(הפעילות מעל גיל 3)</span></label
              >
              <input dir="rtl" type="text" class="keyboard-input" />
            </div>

            <div class="input-group">
              <label>שם משפחה</label>
              <input dir="rtl" type="text" class="keyboard-input" />
            </div>

            <div class="input-group">
              <label>שם פרטי</label>
              <input dir="rtl" type="text" class="keyboard-input" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="footer">
      <div class="footer-shape"></div>
      <div class="btn-box">
        <button class="orange-btn has-left-icon outer-border-left">המשך</button>
        <button class="blue-btn outer-border-right">
          חזרה
          <img
            class="relative z-10"
            src="/assets/images/right-white-arrow.png"
            alt="left arrow"
          />
        </button>
      </div>
    </div>

    <!-- ================= CUSTOM KEYBOARD ================= -->
    <div class="keyboard-text-container">
      <button class="close-btn" onclick="submitOk()">✕</button>

      <!-- NUMBERS (STATIC - NEVER TOUCHED) -->
      <div class="keyboard-text-row">
        <button class="data-number key" data-key="1">1</button>
        <button class="data-number key" data-key="2">2</button>
        <button class="data-number key" data-key="3">3</button>
        <button class="data-number key" data-key="4">4</button>
        <button class="data-number key" data-key="5">5</button>
        <button class="data-number key" data-key="6">6</button>
        <button class="data-number key" data-key="7">7</button>
        <button class="data-number key" data-key="8">8</button>
        <button class="data-number key" data-key="9">9</button>
        <button class="data-number key" data-key="0">0</button>
      </div>

      <!-- LETTER ROW 1 -->
      <div class="keyboard-text-row lang-row">
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
      </div>

      <!-- LETTER ROW 2 -->
      <div class="keyboard-text-row lang-row">
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
      </div>

      <!-- LETTER ROW 3 -->
      <div class="keyboard-text-row lang-row">
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
      </div>

      <!-- ACTIONS -->
      <div class="keyboard-text-row actions">
        <button class="data-number" onclick="toggleLang()">🌐</button>

        <button class="data-number data-space" onclick="addCharX(' ')"></button>

        <button class="data-number data-delete" onclick="deleteChar()">
          ⌫
        </button>

        <button class="data-number data-ok" onclick="submitOk()">שמירה</button>
      </div>
    </div>
    <!-- ================= SCRIPT ================= -->
    <script>
      (function () {
        let currentInput = null;
        let currentLang = "he";

        const keyboard = document.querySelector(".keyboard-text-container");
        const allInputs = document.querySelectorAll(".keyboard-input");

        const layouts = {
          he: [
            ["ק", "ר", "א", "ט", "ו", "ן", "ם", "פ"],
            ["ש", "ד", "ג", "כ", "ע", "י", "ח", "ל", "ך", "ף"],
            ["ז", "ס", "ב", "ה", "נ", "מ", "צ", "ת", "ץ"],
          ],
          en: [
            ["q", "w", "e", "r", "t", "y", "u", "i", "o", "p"],
            ["a", "s", "d", "f", "g", "h", "j", "k", "l", "@"],
            ["z", "x", "c", "v", "b", "n", "m", ".", "_", "-"],
          ],
        };

        function renderKeys() {
          const rows = document.querySelectorAll(".lang-row");
          const layout = layouts[currentLang];

          rows.forEach((row, rowIndex) => {
            const buttons = row.querySelectorAll(".key");
            const rowKeys = layout[rowIndex] || [];

            buttons.forEach((btn, i) => {
              const val = rowKeys[i] || "";
              btn.textContent = val;
              btn.dataset.key = val;
              btn.onclick = () => addCharX(val);
            });
          });
        }

        window.toggleLang = function () {
          currentLang = currentLang === "he" ? "en" : "he";
          renderKeys();
        };

        function showKeyboard(input) {
          currentInput = input;
          keyboard.classList.add("is-open");

          if (input.type === "email") {
            currentLang = "en";
          } else {
            currentLang = "he";
          }

          renderKeys();
          moveCaretToEnd(input);
        }

        function hideKeyboard() {
          keyboard.classList.remove("is-open");

          if (currentInput.type === "email") {
            currentLang = "he";
          }

          if (currentInput) currentInput.blur();

          currentInput = null;
        }

        function moveCaretToEnd(input) {
          input.focus();
          const val = input.value;
          input.value = "";
          input.value = val;
        }

        window.addCharX = function (val) {
          if (!currentInput || !val) return;
          currentInput.value += val;
          moveCaretToEnd(currentInput);
        };

        window.deleteChar = function () {
          if (!currentInput) return;
          currentInput.value = currentInput.value.slice(0, -1);
          moveCaretToEnd(currentInput);
        };

        window.submitOk = function () {
          hideKeyboard();
        };

        allInputs.forEach((input) => {
          input.addEventListener("focus", () => showKeyboard(input));
          input.addEventListener("click", () => showKeyboard(input));
        });
      })();
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const selectBox = document.getElementById("citySelect");
        const input = selectBox.querySelector(".custom-select-input");
        const options = selectBox.querySelectorAll(".custom-option");

        input.addEventListener("focus", () => {
          selectBox.classList.add("active");
          filterOptions("");
        });

        input.addEventListener("input", () => {
          selectBox.classList.add("active");
          filterOptions(input.value);
        });

        options.forEach((option) => {
          option.addEventListener("click", () => {
            options.forEach((removeItem) =>
              removeItem.classList.remove("selected"),
            );

            option.classList.add("selected");

            input.value = option.textContent;

            selectBox.classList.remove("active");
          });
        });

        function filterOptions(value) {
          const search = value.toLowerCase();

          options.forEach((option) => {
            if (option.textContent.toLowerCase().includes(search)) {
              option.style.display = "block";
            } else {
              option.style.display = "none";
            }
          });
        }

        document.addEventListener("click", (e) => {
          if (!selectBox.contains(e.target)) {
            selectBox.classList.remove("active");
          }
        });
      });
    </script>
  </body>
</html>
