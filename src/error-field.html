<!doctype html>
<html lang="en" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./assets/styles/main.css" />
    <title>Details form</title>
  </head>
  <body>
    <div class="cloud-layer"></div>

    <div class="main" style="padding-top: 0">
      <div class="w-full flex flex-col justify-center items-center">
        <div class="app-logo"></div>
        <div class="steps-group step-1">
          <div class="step-item">
            <div class="step-item-number">01</div>
            <div class="step-item-title">מילוי פרטים</div>
          </div>
          <div class="step-item">
            <div class="step-item-number">02</div>
            <div class="step-item-title">בחירת כרטיסים</div>
          </div>
          <div class="step-item">
            <div class="step-item-number">03</div>
            <div class="step-item-title">תשלום</div>
          </div>
          <div class="step-item">
            <div class="step-item-number">04</div>
            <div class="step-item-title">אישור הזמנה</div>
          </div>
        </div>
      </div>
      <div>
        <h2 class="text-6xl text-color-gradient">מילוי פרטי קופצים</h2>
        <p class="text-lg mt-3 text-center text-semibold font-assistant">
          יש למלא את פרטי המבוגר / ההורה:
        </p>
      </div>
      <form
        action="/submit-your-endpoint"
        method="POST"
        class="form-card content-container parent-card"
      >
        <div class="form-row">
          <div class="input-group">
            <label for="first-name">שם פרטי הורה</label>
            <input
              type="text"
              id="first-name"
              name="first_name"
              class="keyboard-input"
              required
            />
          </div>
          <div class="input-group">
            <label for="last-name">שם משפחה</label>
            <input
              type="text"
              id="last-name"
              name="last_name"
              class="keyboard-input"
              required
            />
          </div>
          <div class="input-group">
            <label for="id-number">תעודת זהות</label>
            <input
              type="text"
              id="id-number"
              name="id"
              class="keyboard-input"
            />
          </div>
        </div>
        <div class="form-row">
          <div class="input-group">
            <label for="email">אימייל</label>
            <input
              type="email"
              id="email"
              name="email"
              class="keyboard-input"
              required
            />
          </div>
          <div class="input-group">
            <label for="city">עיר</label>
            <div class="custom-select" id="city">
              <div class="custom-select-trigger">
                <span class="selected-text">בחר סוג תעודה</span>
              </div>
              <div class="custom-select-options">
                <div class="custom-select-option" data-value="tel-aviv">
                  תל אביב
                </div>
                <div class="custom-select-option" data-value="jerusalem">
                  ירושלים
                </div>
                <div class="custom-select-option" data-value="haifa">חיפה</div>
              </div>
            </div>
          </div>
          <div class="input-group error">
            <label for="phone">טלפון</label>
            <input
              type="tel"
              id="phone"
              name="phone"
              class="keyboard-input"
              required
            />
            <p class="text-error">
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12.8843 2.532C12.5383 1.878 11.4623 1.878 11.1163 2.532L2.11627 19.532C2.03556 19.6844 1.99564 19.8551 2.00038 20.0275C2.00512 20.1999 2.05437 20.3681 2.14333 20.5159C2.2323 20.6636 2.35796 20.7858 2.50812 20.8707C2.65827 20.9555 2.82781 21.0001 3.00027 21H21.0003C21.1727 21.0004 21.3423 20.956 21.4925 20.8713C21.6428 20.7866 21.7685 20.6644 21.8574 20.5167C21.9463 20.3689 21.9955 20.2006 22 20.0282C22.0045 19.8559 21.9643 19.6852 21.8833 19.533L12.8843 2.532ZM13.0003 18H11.0003V16H13.0003V18ZM11.0003 14V9H13.0003L13.0013 14H11.0003Z"
                  fill="#FE9595"
                />
              </svg>
              שגיאה
            </p>
          </div>
        </div>
        <div class="form-row flex-row-reverse items-end">
          <div dir="ltr">
            <p class="details-feeling-desc">
              אישור קבלת דיוור שיווקי (מבטיחים לא להציק 😉)
            </p>
            <p class="details-feeling-desc flex items-center gap-15 mt-4">
              כן, שלחו לי הטבות ומבצעים שווים ב-SMS ודוא"ל
              <input type="checkbox" id="c4" class="check-input" />
              <label for="c4" class="check-box">
                <svg width="40" height="40" viewBox="0 0 40 40">
                  <rect
                    class="box-bg"
                    x="0.5"
                    y="0.5"
                    width="39"
                    height="39"
                    rx="7.5"
                  />
                  <path
                    class="box-tick"
                    d="M17 24.17L12.83 20L11.41 21.41L17 27L29 15L27.59 13.59L17 24.17Z"
                  />
                </svg>
              </label>
            </p>
          </div>
          <div class="input-group">
            <label>תאריך לידה הורה</label>
            <input dir="rtl" type="tel" class="keyboard-input" />
          </div>
        </div>
      </form>
      <div dir="ltr" class="form-card content-container child-card mt-20">
        <div class="child-header">
          <button type="button" class="add-child-btn">
            הוספת ילד
            <span
              ><svg
                width="18"
                height="18"
                viewBox="0 0 18 18"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M8.661 15.3333L8.66016 8.34672L8.661 2"
                  stroke="white"
                  stroke-width="4"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M1.9987 8.66441L8.98531 8.66357L15.332 8.66441"
                  stroke="white"
                  stroke-width="4"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </span>
          </button>
          <h2 class="child-title">ילדים בחזקתי מתחת לגיל 18</h2>
        </div>

        <div class="scrollbar_details_form">
          <div class="form-row items-end">
            <div class="delete-col">
              <button type="button" class="delete-btn">
                <svg
                  width="48"
                  height="48"
                  viewBox="0 0 48 48"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect width="48" height="48" rx="24" fill="#FF9800" />
                  <path
                    d="M15.1577 35.3684V16.4211H13.8945V13.8947H20.2103V12.6316H27.7893V13.8947H34.1051V16.4211H32.8419V35.3684H15.1577ZM17.684 32.8421H30.3156V16.4211H17.684V32.8421ZM20.2103 30.3158H22.7366V18.9474H20.2103V30.3158ZM25.263 30.3158H27.7893V18.9474H25.263V30.3158Z"
                    fill="white"
                  />
                </svg>
              </button>
            </div>

            <div class="input-group">
              <label class="text-nowrap"
                >תאריך לידה
                <span class="sub-label">(הפעילות מעל גיל 3)</span></label
              >
              <input dir="rtl" type="text" class="keyboard-input" />
            </div>

            <div class="input-group">
              <label>שם משפחה</label>
              <input dir="rtl" type="text" class="keyboard-input" />
            </div>

            <div class="input-group">
              <label>שם פרטי</label>
              <input dir="rtl" type="text" class="keyboard-input" />
            </div>
          </div>
          <div class="form-row items-end mt-32">
            <div class="delete-col">
              <button type="button" class="delete-btn">
                <svg
                  width="48"
                  height="48"
                  viewBox="0 0 48 48"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect width="48" height="48" rx="24" fill="#FF9800" />
                  <path
                    d="M15.1577 35.3684V16.4211H13.8945V13.8947H20.2103V12.6316H27.7893V13.8947H34.1051V16.4211H32.8419V35.3684H15.1577ZM17.684 32.8421H30.3156V16.4211H17.684V32.8421ZM20.2103 30.3158H22.7366V18.9474H20.2103V30.3158ZM25.263 30.3158H27.7893V18.9474H25.263V30.3158Z"
                    fill="white"
                  />
                </svg>
              </button>
            </div>

            <div class="input-group">
              <label class="text-nowrap"
                >תאריך לידה
                <span class="sub-label">(הפעילות מעל גיל 3)</span></label
              >
              <input dir="rtl" type="text" class="keyboard-input" />
            </div>

            <div class="input-group">
              <label>שם משפחה</label>
              <input dir="rtl" type="text" class="keyboard-input" />
            </div>

            <div class="input-group">
              <label>שם פרטי</label>
              <input dir="rtl" type="text" class="keyboard-input" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="footer">
      <div class="footer-shape"></div>
      <div class="btn-box">
        <button class="orange-btn has-left-icon outer-border-left">המשך</button>
        <button class="blue-btn outer-border-right">
          חזרה
          <img
            class="relative z-10"
            src="/assets/images/right-blue-arrow.png"
            alt="left arrow"
          />
        </button>
      </div>
    </div>
    <!-- ================= CUSTOM KEYBOARD ================= -->
    <div class="keyboard-text-container">
      <button class="close-btn" onclick="submitOk()">✕</button>

      <!-- NUMBERS (STATIC - NEVER TOUCHED) -->
      <div class="keyboard-text-row">
        <button class="data-number key" data-key="1">1</button>
        <button class="data-number key" data-key="2">2</button>
        <button class="data-number key" data-key="3">3</button>
        <button class="data-number key" data-key="4">4</button>
        <button class="data-number key" data-key="5">5</button>
        <button class="data-number key" data-key="6">6</button>
        <button class="data-number key" data-key="7">7</button>
        <button class="data-number key" data-key="8">8</button>
        <button class="data-number key" data-key="9">9</button>
        <button class="data-number key" data-key="0">0</button>
      </div>

      <!-- LETTER ROW 1 -->
      <div class="keyboard-text-row lang-row">
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
      </div>

      <!-- LETTER ROW 2 -->
      <div class="keyboard-text-row lang-row">
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
      </div>

      <!-- LETTER ROW 3 -->
      <div class="keyboard-text-row lang-row">
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
        <button class="data-number key"></button>
      </div>

      <!-- ACTIONS -->
      <div class="keyboard-text-row actions">
        <button class="data-number" onclick="toggleLang()">🌐</button>

        <button class="data-number data-space" onclick="addCharX(' ')"></button>

        <button class="data-number data-delete" onclick="deleteChar()">
          ⌫
        </button>

        <button class="data-number data-ok" onclick="submitOk()">שמירה</button>
      </div>
    </div>

    <!-- ================= SCRIPT ================= -->
    <script>
      (function () {
        let currentInput = null;
        let currentLang = "he";

        const keyboard = document.querySelector(".keyboard-text-container");
        const allInputs = document.querySelectorAll(".keyboard-input");

        const layouts = {
          he: [
            ["ק", "ר", "א", "ט", "ו", "ן", "ם", "פ"],
            ["ש", "ד", "ג", "כ", "ע", "י", "ח", "ל", "ך", "ף"],
            ["ז", "ס", "ב", "ה", "נ", "מ", "צ", "ת", "ץ"],
          ],
          en: [
            ["q", "w", "e", "r", "t", "y", "u", "i", "o", "p"],
            ["a", "s", "d", "f", "g", "h", "j", "k", "l", "@"],
            ["z", "x", "c", "v", "b", "n", "m", ".", "_", "-"],
          ],
        };

        function renderKeys() {
          const rows = document.querySelectorAll(".lang-row");
          const layout = layouts[currentLang];

          rows.forEach((row, rowIndex) => {
            const buttons = row.querySelectorAll(".key");
            const rowKeys = layout[rowIndex] || [];

            buttons.forEach((btn, i) => {
              const val = rowKeys[i] || "";
              btn.textContent = val;
              btn.dataset.key = val;
              btn.onclick = () => addCharX(val);
            });
          });
        }

        window.toggleLang = function () {
          currentLang = currentLang === "he" ? "en" : "he";
          renderKeys();
        };

        function showKeyboard(input) {
          currentInput = input;
          keyboard.classList.add("is-open");

          if (input.type === "email") {
            currentLang = "en";
          } else {
            currentLang = "he";
          }

          renderKeys();
          moveCaretToEnd(input);
        }

        function hideKeyboard() {
          keyboard.classList.remove("is-open");

          if (currentInput.type === "email") {
            currentLang = "he";
          }

          if (currentInput) currentInput.blur();

          currentInput = null;
        }

        function moveCaretToEnd(input) {
          input.focus();
          const val = input.value;
          input.value = "";
          input.value = val;
        }

        window.addCharX = function (val) {
          if (!currentInput || !val) return;
          currentInput.value += val;
          moveCaretToEnd(currentInput);
        };

        window.deleteChar = function () {
          if (!currentInput) return;
          currentInput.value = currentInput.value.slice(0, -1);
          moveCaretToEnd(currentInput);
        };

        window.submitOk = function () {
          hideKeyboard();
        };

        allInputs.forEach((input) => {
          input.addEventListener("focus", () => showKeyboard(input));
          input.addEventListener("click", () => showKeyboard(input));
        });
      })();
      document.addEventListener("DOMContentLoaded", () => {
        const select = document.getElementById("city");
        const trigger = select.querySelector(".custom-select-trigger");
        const options = select.querySelectorAll(".custom-select-option");
        const selectedText = select.querySelector(".selected-text");

        // open close dropdown
        trigger.addEventListener("click", () => {
          select.classList.toggle("open");
        });

        // option click
        options.forEach((option) => {
          option.addEventListener("click", () => {
            options.forEach((o) => o.classList.remove("selected"));
            option.classList.add("selected");

            selectedText.textContent = option.textContent;
            select.classList.remove("open");
          });
        });

        // close when clicking outside
        document.addEventListener("click", (e) => {
          if (!select.contains(e.target)) {
            select.classList.remove("open");
          }
        });
      });
    </script>
  </body>
</html>
